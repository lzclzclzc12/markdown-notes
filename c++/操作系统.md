# 进程与线程

- 进程上下文切换发生在内核态，因为进程的上下文不仅包括了虚拟内存、栈、全局变量等**用户空间的资源**，还包括了内核堆栈、寄存器等**内核空间的状态**
- 系统调用的过程中，不会发生进程切换，发生了两次CPU上下文切换
- 用户级线程的切换，也就是在**用户态**直接切换线程的栈和寄存器而已，**无需切换到内核态**
- **线程是调度的基本单位，而进程则是资源拥有的基本单位**
- 每个线程都有自己的栈，即线程栈。
- 通过切换线程既实现了并发，又避免了**进程切换时需要切换映射表**的代价。映射表实际上是用来将虚拟内存映射到真实物理内存的。
- ![在这里插入图片描述](https://img-blog.csdnimg.cn/20210112212511213.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk1NTcxMg==,size_16,color_FFFFFF,t_70)
- 